# "呼死你”与”接死你“

呼死你的实际操作如下（用浅显的语言解释）：SP向电信或联通申请中继线，1根中继线可以承载30路语音同时呼入或呼出，这个费用一般运营商不向SP收取或仅仅收取少量租赁费（大概100元/月）。如果此根中继线不锁定呼出号码，可自己模拟号码呼出，所以你接到的电话号码均不是实际号码，也不存在让对方停机、欠费（即使你接了也无所谓）之类的问题。对方的目的只是让你无法正常实用电话而已。'

------

这两天又查了一些资料，发现Android上的一些单机呼死你软件呼出时可以不弹出系统的电话界面，它们要求Root权限和特定的机型。
不知道现在云呼里面有没有是通过手机木马病毒进行的，就像超大规模DDoS中常用的那种一样，在大量用户手机上安装带有后台呼叫功能的木马病毒，一旦从黑客处收到指令就能将用户的手机变成云呼网络中的一个节点，在用户不知情的情况下后台拨打电话（当然要做一些处理，避开手机亮屏时间，防止用户发现）。这样就可以完全反制“接死你”，反正消耗的是中了病毒的无辜用户的话费。
这也许是目前云呼的最高形态了，完全不需要和运营商打任何交道。



说了这么多，其实我就想总结一句：碰上大威力的分布式“呼死你”，手机端的任何被动防御措施（各种安全软件、黑白名单等）都只是掩耳盗铃，只能让手机不响，但手机的通话功能将仍然被完全阻塞，你就算设置了谁打进来会响，别人打进来也只能听到用户正忙的提示。运营商端的“呼死你”防护功能治标不治本，“呼死你”的开发者可以采取有针对性的应对手段。
要真正对抗“呼死你”，要么从攻击者的动机下手，要么就是使用“接死你”这样的反制手段（还不一定有效）。要杜绝这个，个人无能为力，只能靠运营商对异常话务的识别处理和国家有关部门的立法和强力打击。



------

没有真正的应对办法，如果人家的目的就是单纯DDoS你的手机号。 我看了一下AT命令集，无限响一声电话的呼死你应该就是这个逻辑。 start: ATD(target); //拨号 do {      status=AT_CLCC(); //获取通话状态 }while(status!=已接通 && status!=振铃中); AT_CHUP(); //挂断 sleep(指定的时间); goto start;

这是单个modem的逻辑。真正的呼死你要么是用卡池放几十张卡，或者通过各地云服务连接大量modem或网络电话服务，所有呼叫线程线程同步以防止冲突（对手只是一个手机号，呼叫出现接通/振铃时其他号必定呼不进去）。

如果sleep时间足够小，线程同步够好，在理想条件下被呼的手机号就几乎一直处于振铃状态，难以接听其他电话，也难以打出电话，实现了拒绝服务。

通过手机端的屏蔽和白名单，只能阻止手机本身振铃，无法解决手机被拒绝服务的问题。如果局端开通呼叫转移，可以解决手机无法呼出的问题，但其他电话仍旧无法呼入。至于关机，更是加强了拒绝服务。使用可以瞬间接电话的“接死你”或者语音信箱，对于对方使用的是手机卡的情况不一定有效，因为现在手机卡都是接通后三秒开始计费的，你秒接，程序秒挂，无法使对方手机卡欠费。你打回攻击你的手机号甚至和对方一样用循环响一声电话的方法轰炸那个手机号，虽然也能使得这个手机号不能继续呼叫，但对方要么卡多，要么是分布式，如果监控到这个号打不出电话，换掉这个手机号也不影响整个轰炸过程。 4G LTE时代，这种拒绝服务还出了一个新的危害：使手机无法稳定使用4G数据。因为大多数人要么不使用VoLTE，就算使用了VoLTE，如果对方使用2G手机进行拨叫，也不一定能用VoLTE接听（移动刚搞VoLTE的时候有这样的问题，现在应该已经解决了）。这样，在没有VoLTE的情况下，手机振铃时，使用CSFB方案的手机，为了准备接听电话，基带将会自动降至2/3G网络模式运行。除非号码屏蔽软件能控制基带的CSFB行为，否则即使呼死你号码被屏蔽，或者只允许白名单电话呼入，手机也将不断在4G模式和2/3G模式之间跳跃，无法稳定使用4G网络。

部分运营商加入了呼入语音验证码功能，这对于简单的呼死你逻辑可以起到防护作用，但是只要修改流程，在获取通话状态的循环中加入通过机器学习等手段自动识别语音验证码并发送双音频输入验证码的代码，就可以轻松将其破解。而像局端黑白名单，黑名单没啥用（呼死你的分布式性质决定的），白名单对于通话对象不固定的人（如销售等）来说同样也是一种拒绝服务。

唯一真正有效的手段是，运营商核心网自动识别一段时间内多次打响一声就挂的电话的手机卡或其他拨号手段如网络电话，并进行自动停机处理；并且警方加强打击进行呼死你行为的人员，推动立法，将此行为正式定为犯罪。以前有人买在大陆漫游的香港手机卡玩单机呼死你的，香港运营商就上马了自动识别，网上很多人都说打了几十次卡就被封了。

至于具体怎么做，提高识别率、减少误报率，恐怕是一篇硕士论文都说不清的了。很多高校应该有人做这样的研究。

对于个人来说，如果人家有决心和有能力让你一直处于振铃状态，就只能从他们的动机下手来处理了。花钱用同样的手段干回去是下策，你不一定比轰炸你的人有更多资源。



------

目前的最好解决方法：

**移动公司推出了一项业务，叫呼死你应急防护，别人拨打你的号码，需要先输入一个两位的随机码，然后才能呼叫你的手机号码。**



要真正防“呼死你”，还需要运营商对此类短时间连呼的识别和限制，否则所有被动防御手段都是治标不治本的。







------

，功能就是：发起源是自己手机，点击”“开始任务“ 按钮当自己手机给一个手机号打电话时，如果对方不接，等手机自动挂断后10秒后再次拨打此号；如果对方接通了，接通后2s自动挂断，然后再拨。。。。。。直到打到他吐。老板对我说了需求后

我思考了一下问题：


        1、为什么2秒挂断，老板说移动手机一般3秒内不收费，我在网上查了查，有的人说3s之内算是坏账，不给于计费，是真是假 ，我没有去验证。
        2.为了不让对方手机显示是自己的卡号，貌似可以买到这样的卡，可以让对方显示“未知电话”。
        3. 还考虑到了，如果对方拉黑了怎么办（这一点考虑的，后来老板说先不考虑，先实现无限打电话的功能）。



       我问的差不多了，我开始准备做了。用什么广播 ，监听等后来我卡在了 如何拿到对方接通的瞬间状态了，一般

api里面找了好久里面确实没有这个去电状态监听的方法，后来网上查相关资料资料，有的人想到了获取Logcat日志信息来判断去电的接听状态，手机接听时会打印一些日志，网上有这样的类似的dome-------http://www.jizhuomi.com/android/example/354.html ，我试了试可以，但是我不同的厂家不同的手机日志肯定是有差别的，更别说打包把这个apk发布到市场上让人用了。所以我再找别的方法。
后来找到一个方法是用用系统的api，因为谷歌把那些重要的或者隐私的api都隐藏起来，但用这个方法有很多局限性，就是必须在源码下进行编译，并且要与系统签名保持一致，系统签名如何获取又是个麻烦事，即使是实现了打包发布到市场，别人用也麻烦啊。     

     网上类似的资源有：    http://mail.cfanz.cn/index.php?c=article&a=read&id=51053
    
                                         http://blog.csdn.net/nexttake/article/details/9117351
    
                                         http://www.shangxueba.com/jingyan/1849686.html
    
                                         http://stackoverflow.com/questions/13134331/cannot-detect-when-outgoing-call-is-answered-in-android?answertab=votes#tab-top

以上是我在网上搜了大量资源，弄了一个星期，自认为单纯靠app实现太复杂了，先不考虑被拉黑的情况 



------

# [自动化测试——人人都可自制“呼死你”](https://www.cnblogs.com/mliangchen/p/5076439.html)

所谓GUI的自动化测试就是模拟用户的鼠标点击或键盘操作。

自动化测试大体分为两个部分：1.控件的自动化识别；2.结果的自动化比较。目前有很多现成的自动化测试工具，如QTP，winrunner等，这类软件的原理大同小异，也可自己开发一个工具，利用微软提供的windows api，找到客户端窗口的句柄，发送一些windows消息。

作为自动化测试的引入案例--自制“呼死你”。

既然可以模拟用户的点击和键盘操作事件，那就好办了。但仍然存在几个问题：

1.用什么自动化测试软件来模拟用户的点击？且需要该工具容易获取且操作简单，容易上手。

2.“呼死你”软件目的是不间断拨打电话，怎样不间断操作？

3.用什么打电话软件？

问题1：自动化测试工具很多，许多都是收费且很难破解，不易获取。但对于我们的需求，用【按键精灵】就足以胜任。

按键精灵官方下载地址：[http://www.anjian.com/](http://www.anjian.com/)

[![image](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170547702-1324709124.png)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170547077-1969103901.png)

问题2：不间断操作？在脚本中添加循环功能呀！如QTP：

```
For i = 1 to 100

/***录制好的脚本***/
Next
```

这样就可以重复操作100次了，但这并不是我想要的，我需要更傻瓜一点。那刚才的按键精灵支持这个功能吗？答案是肯定的。

[![image](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170549796-179395152.png)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170548921-1011110431.png)

 

问题3：免费打电话的软件有很多，但大多都是手机端的产品，如触宝电话，爱聊，微会，易信等等。但又怎样移植到电脑端呢？很容易，用安卓模拟器。

安卓模拟器，最有名的当然是bluestacks了。

Bluestacks官方下载地址：[http://www.bluestacks.cn/](http://www.bluestacks.cn/)

[![image](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170554718-797647969.png)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170550437-1570919668.png)

所有的问题都解决了，那就可以开始实施了。

1.安装按键精灵；

2.安装安卓模拟器，并安装爱聊apk，爱聊的注册等操作可以在手机端完成；

3.自制“呼死你”

\#1，启动安卓模拟器，在安卓模拟器中运行爱聊，切换到合适的“姿势”，等待我；

\#2，启动按键精灵，点击录制

[![image](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170558062-85819153.png)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170556077-495934344.png)

[![image](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170600202-1895018562.png)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170559702-1972972110.png)

这么人性化的操作界面，我就不详细叙述他的操作了，录制一次打电话的脚本，然后将脚本设置为循环即可。

快捷键：F10启动循环脚本，F12终止脚本

效果：

 

[![1111](https://images2015.cnblogs.com/blog/830323/201512/830323-20151225170604984-1982668227.gif)](http://images2015.cnblogs.com/blog/830323/201512/830323-20151225170601124-652070973.gif)

注意：安卓模拟器调整好姿势后就不要移动了。正如我前面提到的，自动化测试工具通过获取位置对客户端进行模拟点击等操作。

提醒：请正当使用，若效仿自制，引起的一切后果均与本文无关。