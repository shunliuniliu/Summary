# 常见概率分布的比较及Python实现

**定义：**

**概率**：用数值来描述事件发生的可能性，等于要测定的事件数目与全部可能发生的偶然事件总数之间的比率。
**概率分布**：用来描述这一系列数值的规律。

**离散型随机变量**——**伯努利实验**和**二项分布**及**泊松分布**的相关知识，

**连续型随机变量**包含了**正态分布**和**指数分布**这些在现实生活中常见到的概率分布类型。

概率论中对实验的定义是：能够产生明确结果的过程，投硬币、抛骰子、明天下不下雨、公交车上有几个人，这些都是实验。而所谓随机变量，是对实验结果的数值性描述。例：

- 定义实验(X)为投硬币，正面记为1，反面记为0，则X=0 或X=1
- 定义实验(X)为明天的降雨量，则X大于等于0，小于250毫米（一般来说）

通常用大写英文字母表示随机变量，这是约定。
随机变量根据其取值特征，分为离散型和连续型。

**根据数据类型的不同，概率分布分为两种：离散概率分布，连续概率分布。**

**那么，问题就来了。为什么你要关心数据类型呢？**

**因为数据类型会影响求概率的方法。**

对于**离散概率分布**，我们**关心的是取得一个特定数值的概率**。例如抛硬币正面向上的概率为:p(x=正面)=1/2

而对于**连续概率分布来说，我们无法给出每一个数值的概率**，因为我们不可能列举每一个精确数值。

比如，对于像时间这样的连续型数据，你更**关心的是一个特定范围的概率是多少**。

# 离散型随机变量

实验结果是由可逐一列举的结果组成的，那这个结果就是离散型随机变量。满足

1. 每一种结果的可能性都是小于等于1的
2. 所有结果的概率之和为1

比如上面列举的投骰子事件，一个均匀的骰子，结果必然是在1,2,3,4,5,6之中的一个，而且每个的概率相等，投一次骰子必然出现上述结果中的一个。那么每个结果的概率就是1/6。
离散型随机变量的方差：

![img](https://www.zhihu.com/equation?tex=%5Csum_%7Bi=1%7D%5E%7Bn%7D(x_i-EX)%5E2P_i)

其中xi为每一个事件，Pi表示当前事件发生的概率。

有一种特殊事件，**只会产生两种结果，并且重复这一实验每次的结果不会影响其他实验（独立实验）,称为伯努利实验。**

### 伯努利实验

期望E(x) = p
方差D(x) = p(1-p)

### 二项分布

**1）做某件事的次数（也叫试验次数）是固定的，用n表示。**

（例如抛硬币3次，投资5支股票），

**2）每一次事件都有两个可能的结果（成功，或者失败）**

（例如每一次抛硬币有2个结果：正面表示成功，反面表示失败。

每一次投资美股有2个结果：投资成功，投资失败）。

**3）每一次成功的概率都是相等的，成功的概率用p表示**

（例如每一次抛硬币正面朝上的概率都是1/2。

你投资了5家公司的股票，假设每一家投资盈利成功的概率都相同）

**4）你感兴趣的是成功x次的概率是多少。那么就可以用二项分布的公式快速计算出来了。**



进行一次伯努利实验叫做1重伯努利实验，进行两次伯努利实验叫做2重伯努利实验，以此类推。**统计学中管N次伯努利实验的结果分布称为二项分布。**
以投硬币来说，（**投硬币是很标准的伯努利实验，结果只有正反两面，每次投硬币不影响其他次**）重复10次，即10重伯努利实验，查看正面朝上的次数，把10重伯努利实验看做一个试验，随机变量X的取值是正面朝上的次数，则X=0,1,2,3,4,5,6,7,8,9,10 每种结果的概率不尽相等。
其分布服从:

![img](https://www.zhihu.com/equation?tex=f(x)=%5Cleft(_x%5En%5Cright)p%5Ex(1-p)%5E%7Bn-x%7D%5C%5C,%5C%5C,%5C%5C,%5C%5C%5C,%5C%5C%5C,%5C%5C,%5C%5C,%5C%5C,%5C%5C,%5C%5C,%E5%85%B6%E4%B8%ADn=10%EF%BC%8Cx=0,1,2....10)

二项概率的期望：E(X) = np，方差：D(X) = np(1-p)

### 几何分布

其实我一直把几何分布，叫做二项分布的孪生兄弟，因为他两太像了。 **只有1点不同**

> **1 . 几何分布有啥用？** **2. 如何判断是不是几何分布？** **3. 几何分布如何计算概率？**

**1.几何分布有啥用？**

如果你需要知道尝试多次能取得第一次成功的概率，则需要几何分布。

**2. 如何判断是不是几何分布？**

只要符合下面4个特点就可以判别你做的事情是就是几何分布了：

**1）做某事件次数（也叫试验次数）是固定的，用n表示**
（例如抛硬币3次，表白5次），

**2）每一次事件都有两个可能的结果（成功，或者失败）**

（例如每一次抛硬币有2个结果：正面表示成功，反面表示失败。每一次表白有2个结果：表白成功，表白失败）

**3）每一次“成功”的概率都是相等的，成功的概率用p表示**

（例如每一次抛硬币正面朝上的概率都是1/2。假设你是初出茅庐的小伙子，还不是老油条，所以你表白每一次成功的概率是一样的）

**4）你感兴趣的是，进行x次尝试这个事情，取得第1次成功的概率是多大。**
（例如你在玩抛硬币的游戏，想知道抛5次硬币，只有第5次（就是滴1次成功）正面朝上的概率是多大。你表白你的暗恋对象，你希望知道要表白3次，心仪对象答应和你手牵手的概率多大。）



**正如你上面看到的，几何分布和二项分布只有第4点，也就是解决问题目的不同**！！！！！！！！！！！！！

**几何分布如何计算概率？**

用下面公式就可以了：

![img](https://pic3.zhimg.com/80/v2-e88a808b0ce924b70e916655ab2da313_hd.jpg)

p为成功概率，即为了在第x次尝试取得第1次成功，首先你要失败（x-1）次。

**几何分布的期望是E(x)=1/p。代表什么意思呢？**

假如你每次表白的成功概率是60%，同时你也符合几何分布的特点，所以期望E(x)=1/p=1/0.6=1.67

所以你可以期望自己表白1.67次（约等于2次）会成功。这样的期望让你信息倍增，起码你不需要努力上100次才能成功，2次还是能做到的，有必要尝试下。

几何分布的标准差：

![img](https://pic4.zhimg.com/80/v2-422455d67310656fbb75421394e09110_hd.jpg)



### 泊松分布

> **1. 泊松分布有啥用？** **2. 如何判断是不是泊松分布？** **3. 泊松分布如何计算概率？**

**1. 泊松分布有啥用？**

如果你想知道某个时间范围内，发生某件事情x次的概率是多大。这时候就可以用泊松分布轻松搞定。比如一天内中奖的次数，一个月内某机器损坏的次数等。

知道这些事情的概率有啥用呢？

当然是根据概率的大小来做出决策了。比如你搞了个抽奖活动，最后算出来一天内中奖10次的概率都超过了90%，然后你顺便算了下期望，再和你的活动成本比一下，发现要赔不少钱。那这个活动就别搞了。

泊松分布的形状会随着平均值的不同而有所变化，无论是一周内多少人能赢得彩票，还是每分钟有多少人会打电话到呼叫中心，泊松分布都可以告诉我们它们的概率。

泊松分布的作用是描述一段时间内（或者一段空间中）某一事件发生的次数：比如医院每天接收到的病人数，呼叫台收到的求助电话，或者一段高速公路上道路的损坏量。
比如说，医院每天接诊的病人数量是不固定的，单是理论上讲，最少是0人，最多可以无限多，但是总有一个平均值，不妨设为100人。那么医院接诊人数的概率分布大概是这样的：

![img](https://upload-images.jianshu.io/upload_images/6529705-bee5aabca4ff8d7a.png)

最左侧为零概率很小，最大可能100人在峰顶，随着人数增多，概率降低。其概率分布服从：![img](https://www.zhihu.com/equation?tex=f(x)=%5Cfrac%7B%5Cmu%5Exe%5E%7B-%5Cmu%7D%7D%7Bx!%7D)

μ表示均值。**期望和方差相等，都等于u**

**什么是泊松分布？**

符合以下3个特点就是泊松分布：

**1）事件是独立事件**

（类似抽奖这样的就是独立事件）

**2）在任意相同的时间范围内，事件发的概率相同**
（例如1天内中奖概率，与第2天内中间概率相同）

**3）你想知道某个时间范围内，发生某件事情x次的概率是多大**

（例如你搞了个促销抽奖活动，想知道一天内10人中奖的概率）



用x代表事情发的次数（例如中奖10个人中奖），u代表给定时间范围内事情发生的平均次数（例如你搞的抽奖活动1天平均中奖人数是5人），概率计算公式为：

![img](https://pic2.zhimg.com/80/v2-8067fde1a6b4d15678a084fde0c6f59b_hd.jpg)

例如你搞了个促销抽奖活动，只知道1天内中奖的平均个数为5个，你想知道1天内恰巧中奖次数为7的概率是多少？

此时x=7，u=5（区间内发生的平均次数），代入公式求出概率为10.44%

**泊松概率还有一个重要性质，它的数学期望和方差相等，都等于u**

（知道什么时候使用哪种概率分布，比记住公式重要。公式计算可以借助多种工具或者语言）



## 总结

> **3.特殊的概率分布有哪些？**

3种离散概率分布，分别代表了解决3种问题的“万能模板”

> **二项分布**（Binomial distribution）

**符合以下4个特点的就是二项分布**

1）做某件事的次数是固定的。

2）每一次事件都有两个可能的结果（成功，或者失败）

3）每一次成功的概率都是相等的

**4）你感兴趣的是成功x次的概率是多少**

**案例：**

抛5次硬币，有2次正面朝上的概率是多少

你买了之前我介绍你的5家公司的股票，假设投资的这5家公司成功的概率都相同，那么你关心其中只要有3个投资成功，你就可以赚翻了，所以想知道成功3次的概率多大。

> **几何何分布**（Geometric distribution）

只要符合下面4个特点就可以判别你做的事情是就是几何分布了：

1）做某事件次数（也叫试验次数）是固定

2）每一次事件都有两个可能的结果

3）每一次“成功”的概率都是相等的，成功的概率用p表示

**4）你感兴趣的是，进行x次尝试这个事情，取得第1次成功的概率是多大。**

案例：例如你在玩抛硬币的游戏，想知道抛5次硬币，只有第5次（就是滴1次成功）正面朝上的概率是多大。

表白3次，第3次成功的概率多大

> **泊松分布**（poisson distribution）

符合以下3个特点就是泊松分布：

1）事件是独立事件

2）在任意相同的时间范围内，事件发的概率相同

3）你想知道某个时间范围内，发生某件事情x次的概率是多大

案例：例如你搞了个促销抽奖活动，想知道一天内10人中奖的概率

例如你是公司质检管理员，想知道一个月内某机器损坏的10次（假如超过10次一句认为不合格）的概率是多少。





# 连续型随机变量

![概率论6大分布](https://raw.githubusercontent.com/zhangjinzhi/Summary/master/%E6%A6%82%E7%8E%87%E8%AE%BA6%E5%A4%A7%E5%88%86%E5%B8%83.png)



------



# 离散型概率分布Python实现

## 二项分布

### 二项试验

满足以下条件的试验成为二项试验：

1. 试验由一系列相同的n个试验组成；
2. 每次试验有两种可能的结果，成功或者失败；
3. 每次试验成功的概率是相同的，用p来表示；
4. 试验是相互独立的。

设x为n次试验中的成功的次数，由于随机变量的个数是有限的，所以x是一个离散型随机变量。x的概率分布成为二项分布。

### Python实现

```
>>> import numpy as np
>>> list_a = np.random.binomial(n, p, size=None)
```

> n为试验次数
> p为出现正例（试验成功）的概率
> size为取样次数，即重复进行此二项试验的次数
> 函数返回值为每次取样出现的成功试验的次数

### 图像

```
>>> import numpy as np
>>> import matplotlib.pyplot as plt
>>> list_a = np.random.binomial(n=10,p=0.2,size=1000)
#取样1000次，每次进行十组试验，单组试验成功概率为0.2，list_a为每组试验中成功的组数
>>> plt.hist(list_a,bins=8,color='g',alpha=0.4,edgecolor='b')
(array([ 157.,  240.,  236.,  208.,   86.,   57.,   13.,    3.]), array([ 0.   ,  1.125,  2.25 ,  3.375,  4.5  ,  5.625,  6.75 ,  7.875,  9.   ]), <a list of 8 Patch objects>)
>>> plt.show()
```

![img](https://upload-images.jianshu.io/upload_images/3099181-898ddfc6b19cd7e3.png)

## 泊松分布

### 泊松试验

满足以下条件的试验成为泊松试验：

1. 在任意两个相等长度的区间上，事件发生的概率相等；
2. 事件在某一区间上是否发生与事件在其他区间上是否发生所独立的。

### Python实现

设一个某站台平均每小时会经过8辆公共汽车，求每小时经过12俩的概率：

```
>>> list_b = np.random.poisson(8,1000)#试验重复1000次
>>> plt.hist(list_b,bins=8,color='g',alpha=0.4,edgecolor='b')
(array([  14.,   71.,  201.,  269.,  236.,  132.,   60.,   17.]), array([  1.,   3.,   5.,   7.,   9.,  11.,  13.,  15.,  17.]), <a list of 8 Patch objects>)
>>> plt.show()
```

### 图像

![img](https://upload-images.jianshu.io/upload_images/3099181-5284dded364cfd04.png)

# 连续型概率分布

> 注意：对于连续性概率分布，Python也会采取生成离散点的形式实现

## 均匀分布

概念：在任意相同长度间隔内分布概率相等的概率分布。

### Python实现及图像

```
np.random.uniform(low,high,size)
#low和high为分布范围
#size为样本数目
```

```
>>> list_c = np.random.uniform(0,10,1000)
>>> plt.hist(list_c,bins=8,color='g',alpha=0.4,edgecolor='b')
(array([ 141.,  123.,  111.,  111.,  131.,  137.,  125.,  121.]), array([  4.09722532e-03,   1.25088530e+00,   2.49767338e+00,
         3.74446146e+00,   4.99124954e+00,   6.23803761e+00,
         7.48482569e+00,   8.73161377e+00,   9.97840185e+00]), <a list of 8 Patch objects>)
>>> plt.show()
```

![img](https://upload-images.jianshu.io/upload_images/3099181-f764048dbd3f75d5.png)

## 正态分布

当二项分布的样本数量足够大时，其分布曲线会变成对称的钟形，我们将这种分布形态成为正态分布

### Python实现及图像

```
list_d = np.random(loc,scale,size=None)
#loc为期望
#scale为标准差
#size为取样数量，默认为None，即仅返回一个数
```

```
>>> list_d = np.random.normal(0,1,1000)
>>> plt.hist(list_d,bins=8,color='g',alpha=0.4,edgecolor='b')
(array([  11.,   53.,  158.,  321.,  264.,  145.,   39.,    9.]), array([-3.34109196, -2.50103319, -1.66097443, -0.82091566,  0.0191431 ,
        0.85920186,  1.69926063,  2.53931939,  3.37937815]), <a list of 8 Patch objects>)
>>> plt.show()
```

![img](https://upload-images.jianshu.io/upload_images/3099181-960dbab89939317f.png)

## 指数分布

**指数分布与泊松分布类似，泊松分布描述了每一个区间内事件发生的次数，而指数分布描述了事件发生的事件间隔长度。**
设一个某站台**平均每小时会经过8辆公共汽车**，求**两辆公共汽车间隔时间不超过x小时**的概率：

### Python实现即图像

```
>>> list_e = np.random.exponential(0.125,1000)
>>> plt.hist(list_e,bins=8,color='g',edgecolor='b',alpha=0.4)
(array([ 552.,  250.,  121.,   49.,   15.,    6.,    4.,    3.]), array([  1.38250181e-04,   1.06106465e-01,   2.12074680e-01,
         3.18042896e-01,   4.24011111e-01,   5.29979326e-01,
         6.35947541e-01,   7.41915756e-01,   8.47883971e-01]), <a list of 8 Patch objects>)
>>> plt.show()
```

![img](https://upload-images.jianshu.io/upload_images/3099181-06b8d2074222fb9e.png)









